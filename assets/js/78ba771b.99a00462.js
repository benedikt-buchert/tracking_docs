"use strict";(globalThis.webpackChunktracking_docs=globalThis.webpackChunktracking_docs||[]).push([[746],{9581:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>x,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"events/purchase","title":"Complex User Event","description":"A generic event demonstrating recursive documentation capabilities.","source":"@site/docs/events/purchase.mdx","sourceDirName":"events","slug":"/events/purchase","permalink":"/tracking_docs/docs/events/purchase","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/events/purchase.mdx","tags":[],"version":"current","frontMatter":{"title":"Complex User Event","description":"A generic event demonstrating recursive documentation capabilities.","sidebar_label":"Complex User Event"},"sidebar":"tutorialSidebar"}');var i=r(4848),n=r(8453),c=(r(6540),r(3457));const a=({properties:e,requiredList:t=[],level:r=0})=>{const s=[];return Object.entries(e).forEach(([e,t])=>{("object"===t.type&&t.properties||"array"===t.type&&t.items&&t.items.properties)&&s.push({key:e,prop:t})}),(0,i.jsxs)(i.Fragment,{children:[Object.entries(e).map(([e,r])=>{const n=t.includes(e),c=s.find(t=>t.key===e);return(0,i.jsxs)("tr",{style:{backgroundColor:n?"rgba(255,0,0,0.05)":"transparent"},children:[(0,i.jsxs)("td",{children:[(0,i.jsx)("strong",{children:e}),c&&(0,i.jsx)("span",{style:{fontSize:"0.8em",marginLeft:"5px"},children:"\u2935"})]}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:Array.isArray(r.type)?r.type.join("|"):r.type})}),(0,i.jsx)("td",{style:{textAlign:"center"},children:n?"\u2705":""}),(0,i.jsx)("td",{children:r.description||""})]},e)}),s.map(({key:e,prop:t})=>{const s="object"===t.type?t.properties:t.items.properties,n="object"===t.type?t.required:t.items.required,c="array"===t.type?`${e} [ ]`:`${e} { }`;return(0,i.jsx)("tr",{children:(0,i.jsxs)("td",{colSpan:"4",style:{paddingLeft:"20px",borderLeft:"4px solid #eee"},children:[(0,i.jsx)("strong",{children:c}),(0,i.jsxs)("table",{style:{width:"100%",marginTop:"5px"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{width:"20%",children:"Property"}),(0,i.jsx)("th",{width:"15%",children:"Type"}),(0,i.jsx)("th",{width:"10%",children:"Req"}),(0,i.jsx)("th",{children:"Description"})]})}),(0,i.jsx)("tbody",{children:(0,i.jsx)(a,{properties:s,requiredList:n||[],level:r+1})})]})]})},`${e}-nested`)})]})},o=e=>{const t=e=>{if(!e)return null;if(e.examples&&e.examples.length)return e.examples[0];if(void 0!==e.const)return e.const;if(void 0!==e.default)return e.default;const r=Array.isArray(e.type)?e.type[0]:e.type;if("object"===r){if(e.properties){const r={};return Object.entries(e.properties).forEach(([e,s])=>{r[e]=t(s)}),r}return{}}if("array"===r)return e.items?[t(e.items)]:[];switch(r){case"string":return"";case"integer":case"number":return 0;case"boolean":return!1;default:return null}};if(e&&e.examples&&e.examples.length){const t=e.examples[0];if("object"==typeof t&&null!==t)return t}if(e&&e.properties){const r={};return Object.entries(e.properties).forEach(([e,s])=>{r[e]=t(s)}),r}return{}};function p({schema:e}){const t=e&&e.examples&&e.examples[0]?e.examples[0]:o(e||{}),r=`window.dataLayer.push(${JSON.stringify(t,null,2)});`;return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"DataLayer Example"}),(0,i.jsx)(c.A,{language:"javascript",children:r}),(0,i.jsx)("h3",{children:"Event Properties"}),(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{width:"20%",children:"Property"}),(0,i.jsx)("th",{width:"15%",children:"Type"}),(0,i.jsx)("th",{width:"10%",children:"Req"}),(0,i.jsx)("th",{children:"Description"})]})}),(0,i.jsx)("tbody",{children:(0,i.jsx)(a,{properties:e.properties,requiredList:e.required})})]}),(0,i.jsxs)("details",{children:[(0,i.jsx)("summary",{children:"View Raw JSON Schema"}),(0,i.jsx)(c.A,{language:"json",children:JSON.stringify(e,null,2)})]})]})}const d={title:"Complex User Event",description:"A generic event demonstrating recursive documentation capabilities.",sidebar_label:"Complex User Event"},l="Complex User Event",u={},h=[];function m(e){const t={h1:"h1",header:"header",p:"p",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"complex-user-event",children:"Complex User Event"})}),"\n",(0,i.jsx)(t.p,{children:"A generic event demonstrating recursive documentation capabilities."}),"\n",(0,i.jsx)(p,{schema:{$schema:"http://json-schema.org/draft-07/schema#",$id:"https://example.com/schemas/complex-event.json",title:"Complex User Event",description:"A generic event demonstrating recursive documentation capabilities.",type:"object",required:["event","user_data"],properties:{event:{type:"string",const:"user_update",description:"The event name."},timestamp:{type:"integer",description:"Unix timestamp of the event."},user_data:{type:"object",description:"Container for user information.",required:["user_id","attributes"],properties:{user_id:{type:"string",description:"Unique User ID."},is_active:{type:"boolean",description:"Status of the user."},attributes:{type:"object",description:"Nested generic attributes.",properties:{segment:{type:"string",description:"Marketing segment."},score:{type:"number",description:"Engagement score."}}},addresses:{type:"array",description:"List of user addresses.",items:{type:"object",required:["city","zip"],properties:{street:{type:"string"},city:{type:"string"},zip:{type:"string"}}}}}}},examples:[{event:"user_update",timestamp:16788922,user_data:{user_id:"U_999",is_active:!0,attributes:{segment:"premium",score:95},addresses:[{street:"123 Main St",city:"New York",zip:"10001"}]}}]}})]})}function x(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}}}]);