"use strict";(globalThis.webpackChunkdemo=globalThis.webpackChunkdemo||[]).push([[133,167,698],{333:(e,t,i)=>{i.d(t,{A:()=>n});i(6540);var r=i(5535),s=i(4848);function n({schema:e}){return(0,s.jsxs)("details",{className:"schema-json-viewer",children:[(0,s.jsx)("summary",{children:"View Raw JSON Schema"}),(0,s.jsx)(r.A,{language:"json",children:JSON.stringify(e,null,2)})]})}},1857:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>o,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"partials/add-to-cart-event_bottom","title":"add-to-cart-event_bottom","description":"Whenever possible, keep descriptions and other schema-related information within the JSON schema file itself.","source":"@site/docs/partials/add-to-cart-event_bottom.mdx","sourceDirName":"partials","slug":"/partials/add-to-cart-event_bottom","permalink":"/docs/partials/add-to-cart-event_bottom","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var s=i(4848),n=i(3023),a=i(3603);const o={},c=void 0,d={},p=[];function m(e){const t={p:"p",strong:"strong",...(0,n.R)(),...e.components};return(0,s.jsxs)(a.A,{type:"caution",title:"Prefer JSON for Descriptions",children:[(0,s.jsx)(t.p,{children:"Whenever possible, keep descriptions and other schema-related information within the JSON schema file itself."}),(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Why?"})," This ensures that the schema is a single, self-contained source of truth. It makes the schema more portable and easier to use with other tools that might not be aware of these documentation partials."]})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},2393:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>o,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"partials/add-to-cart-event","title":"add-to-cart-event","description":"The main description for this schema should be kept in the original JSON schema file.","source":"@site/docs/partials/add-to-cart-event.mdx","sourceDirName":"partials","slug":"/partials/add-to-cart-event","permalink":"/docs/partials/add-to-cart-event","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var s=i(4848),n=i(3023),a=i(3603);const o={},c=void 0,d={},p=[];function m(e){const t={p:"p",...(0,n.R)(),...e.components};return(0,s.jsxs)(a.A,{type:"info",title:"Using Partials",children:[(0,s.jsx)(t.p,{children:"The main description for this schema should be kept in the original JSON schema file."}),(0,s.jsx)(t.p,{children:"Use partials like this one to add supplementary content, such as images, complex markdown, or other React components."})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},4771:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>m,default:()=>f,frontMatter:()=>p,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"events/add-to-cart-event","title":"Add to Cart Event","description":"An add_to_cart event fires when a user adds one or more items to their shopping cart. Based on Google Analytics 4 ecommerce event specifications.","source":"@site/docs/events/add-to-cart-event.mdx","sourceDirName":"events","slug":"/events/add-to-cart-event","permalink":"/docs/events/add-to-cart-event","draft":false,"unlisted":false,"editUrl":"https://github.com/benedikt-buchert/tracking_docs/edit/main/demo/static/schemas/add-to-cart-event.json","tags":[],"version":"current","frontMatter":{"title":"Add to Cart Event","description":"An add_to_cart event fires when a user adds one or more items to their shopping cart. Based on Google Analytics 4 ecommerce event specifications.","sidebar_label":"Add to Cart Event","custom_edit_url":"https://github.com/benedikt-buchert/tracking_docs/edit/main/demo/static/schemas/add-to-cart-event.json"},"sidebar":"tutorialSidebar","next":{"title":"Complex Event with Validation Constraints","permalink":"/docs/events/complex-event"}}');var s=i(4848),n=i(3023),a=i(5980),o=i(333),c=i(2393),d=i(1857);const p={title:"Add to Cart Event",description:"An add_to_cart event fires when a user adds one or more items to their shopping cart. Based on Google Analytics 4 ecommerce event specifications.",sidebar_label:"Add to Cart Event",custom_edit_url:"https://github.com/benedikt-buchert/tracking_docs/edit/main/demo/static/schemas/add-to-cart-event.json"},m="Add to Cart Event",l={},h=[...c.toc,...d.toc];function u(e){const t={h1:"h1",header:"header",p:"p",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"add-to-cart-event",children:"Add to Cart Event"})}),"\n",(0,s.jsx)(t.p,{children:"An add_to_cart event fires when a user adds one or more items to their shopping cart. Based on Google Analytics 4 ecommerce event specifications."}),"\n",(0,s.jsx)(c.default,{}),"\n",(0,s.jsx)(a.A,{schema:{$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://tracking-docs-demo.buchert.digital/schemas/add-to-cart-event.json",title:"Add to Cart Event",description:"An add_to_cart event fires when a user adds one or more items to their shopping cart. Based on Google Analytics 4 ecommerce event specifications.",type:"object",required:["event"],$defs:{strictObject:{type:"object",propertyNames:{maxLength:40,pattern:"^[a-z0-9_]+$"},additionalProperties:{anyOf:[{$ref:"#/allOf/0/$defs/strictObject"},{type:"array",items:{$ref:"#/allOf/0/$defs/strictObject"}},{not:{type:"object"}}]}}},$ref:"#/allOf/0/$defs/strictObject",properties:{event:{type:"string",const:"add_to_cart",description:"The name of the event indicating a add_to_cart has occurred."},ecommerce:{type:"object",description:"Ecommerce related data for the purchase event.",required:["currency","items"],"x-gtm-clear":!0,properties:{value:{type:"number",description:"The monetary value of the event. Set value to the sum of (price * quantity) for all items in items.",examples:[30.03,99.99,45.5]},currency:{type:"string",description:"The currency of the items in ISO 4217 three-letter format. Required when value is set.",examples:["USD","EUR","GBP"]},items:{type:"array",description:"The products added to the cart.",minItems:1,items:{$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://tracking-docs-demo.buchert.digital/schemas/components/product.json",title:"A Product",description:"A product object representing an item for use within a purchase event, based on Google Analytics 4 ecommerce event specifications.",type:"object",required:[],properties:{item_id:{type:"string",description:"The ID of the item. Either item_id or item_name is required.",examples:["SKU_12345","PROD_98765"]},item_name:{type:"string",description:"The name of the item. Either item_id or item_name is required.",examples:["Stan and Friends Tee","Blue Running Shoes"]},affiliation:{type:"string",description:"A product affiliation to indicate a supplier or store. Note: affiliation is only available at the item level.",examples:["Google Merchandise Store","Nike Store"]},coupon:{type:"string",description:"The coupon name/code associated with the item. Coupon parameters at event and item levels are independent.",examples:["SUMMER_FUN","WELCOME20","SAVE10"]},discount:{type:"number",description:"The monetary value of the discount per unit applied to the item.",examples:[2.22,5,10.5]},index:{type:"number",description:"The index or position of the item in a list.",examples:[0,1,2]},item_brand:{type:"string",description:"The brand of the item.",examples:["Google","Nike","Adidas"]},item_category:{type:"string",description:"The category of the item. If used as part of a category hierarchy or taxonomy, this is the first category.",examples:["Apparel","Footwear","Electronics"]},item_category2:{type:"string",description:"The second category hierarchy or additional taxonomy of the item.",examples:["Adult","Women","Men"]},item_category3:{type:"string",description:"The third category hierarchy or additional taxonomy of the item.",examples:["Shirts","Shoes","Boots"]},item_category4:{type:"string",description:"The fourth category hierarchy or additional taxonomy of the item.",examples:["Crew","Running","Casual"]},item_category5:{type:"string",description:"The fifth category hierarchy or additional taxonomy of the item.",examples:["Short sleeve","Long distance","Lightweight"]},item_list_id:{type:"string",description:"The ID of the list in which the item was presented to the user. If set, item_list_id at the event level is ignored. If not set, item_list_id at the event level is used if available.",examples:["related_products","search_results","recommendations"]},item_list_name:{type:"string",description:"The name of the list in which the item was presented to the user. If set, item_list_name at the event level is ignored. If not set, item_list_name at the event level is used if available.",examples:["Related Products","Search Results","Recommended Items"]},item_variant:{type:"string",description:"The item variant or unique code or description for additional item details/options.",examples:["green","Blue Size 10","M-Black"]},location_id:{type:"string",description:"The physical location associated with the item, such as the location of a brick-and-mortar store. It is recommended to use the Google Place ID that corresponds to the associated item. A custom location ID can also be used. Note: location_id is only available at the item level.",examples:["ChIJIQBpAG2ahYAR_6128GcTUEo","store_123","location_sf"]},price:{type:"number",description:"The price of the item in the specified currency unit. If a discount is applied to the item, set price to the reduced per-unit price and provide the per-unit price discount in the discount parameter.",examples:[10.01,21.01,89.99]},quantity:{type:"number",description:"The item quantity. If not set, quantity is set to 1.",examples:[1,2,3]},promotion_id:{type:"string",description:"The ID of the promotion associated with the item.",examples:["P_12345","PROMO_001"]},promotion_name:{type:"string",description:"The name of the promotion associated with the item.",examples:["Summer Sale","Black Friday","Flash Deal"]},creative_name:{type:"string",description:"The name of the promotion creative.",examples:["summer_banner2","holiday_email_v1"]},creative_slot:{type:"string",description:"The name of the creative slot associated with the item.",examples:["featured_app_1","top_banner","sidebar"]},google_business_vertical:{type:"string",description:"The business vertical for the item (e.g., 'retail').",examples:["retail","ecommerce"]}}}}}},user_data:{type:"object",description:"User related data.","x-gtm-clear":!0}}}}),"\n",(0,s.jsx)(o.A,{schema:{$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://tracking-docs-demo.buchert.digital/schemas/add-to-cart-event.json",title:"Add to Cart Event",description:"An add_to_cart event fires when a user adds one or more items to their shopping cart. Based on Google Analytics 4 ecommerce event specifications.",type:"object",allOf:[{$ref:"./components/dataLayer.json"}],properties:{event:{type:"string",const:"add_to_cart",description:"The name of the event indicating a add_to_cart has occurred."},ecommerce:{type:"object",description:"Ecommerce related data for the purchase event.",properties:{value:{type:"number",description:"The monetary value of the event. Set value to the sum of (price * quantity) for all items in items.",examples:[30.03,99.99,45.5]},currency:{type:"string",description:"The currency of the items in ISO 4217 three-letter format. Required when value is set.",examples:["USD","EUR","GBP"]},items:{type:"array",description:"The products added to the cart.",minItems:1,items:{$ref:"./components/product.json"}}},required:["currency","items"]}}}}),"\n",(0,s.jsx)(d.default,{})]})}function f(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},5980:(e,t,i)=>{i.d(t,{A:()=>x});var r=i(6540),s=i(1381),n=i(5535);const a=e=>{const t=e=>{if(!e)return;if(e.examples&&e.examples.length)return e.examples[0];if(void 0!==e.const)return e.const;if(void 0!==e.default)return e.default;const i=Array.isArray(e.type)?e.type[0]:e.type;if("object"!==i){if("array"!==i)switch(i){case"string":return"";case"integer":case"number":return 0;case"boolean":return!1;default:return}else if(e.items){const i=t(e.items);if(void 0!==i)return[i]}}else if(e.properties){const i={};if(Object.entries(e.properties).forEach(([e,r])=>{const s=t(r);void 0!==s&&(i[e]=s)}),0===Object.keys(i).length)return;return i}};if(e&&e.examples&&e.examples.length){const t=e.examples[0];if("object"==typeof t&&null!==t)return t}if(e&&e.properties){const i={};return Object.entries(e.properties).forEach(([e,r])=>{const s=t(r);void 0!==s&&(i[e]=s)}),i}return{}};var o=i(4848);function c({schema:e}){const t=d(e||{}),i=a(e||{});let r="";const s=t.filter(e=>e in i);if(s.length>0){const e={};s.forEach(t=>{e[t]=null}),r+=`window.dataLayer.push(${JSON.stringify(e,null,2)});\n`}return r+=`window.dataLayer.push(${JSON.stringify(i,null,2)});`,(0,o.jsx)(n.A,{language:"javascript",children:r})}const d=e=>e&&e.properties?Object.entries(e.properties).filter(([e,t])=>!0===t["x-gtm-clear"]).map(([e])=>e):[];var p=i(1750);const m=({propertyKey:e,prop:t,requiredList:i,getConstraints:s})=>{const n=i.includes(e),a=s(t,n),c=t.properties||t.items&&t.items.properties,d=c&&Object.keys(c).length>0,m="object"===t.type,l="array"===t.type&&t.items&&"object"===t.items.type;if((m||l)&&!d)return null;const h=Math.max(1,a.length),[u,...f]=a;return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)("tr",{className:(0,p.A)(n&&"required-row"),children:[(0,o.jsxs)("td",{rowSpan:h,children:[(0,o.jsx)("strong",{children:e}),d&&(0,o.jsx)("span",{style:{fontSize:"0.8em",marginLeft:"5px"},children:"\u2935"})]}),(0,o.jsx)("td",{rowSpan:h,children:(0,o.jsx)("code",{children:(g=t.type,Array.isArray(g)?g.join(" | "):g)})}),(0,o.jsx)("td",{children:u&&(0,o.jsx)("code",{className:(0,p.A)("constraint-code","required"===u&&"required"),children:u})}),(0,o.jsx)("td",{rowSpan:h,children:(y=t.examples,y?y.map(e=>"object"==typeof e?JSON.stringify(e):e).join(", "):"")}),(0,o.jsx)("td",{rowSpan:h,children:t.description||""})]}),f.map((t,i)=>(0,o.jsx)("tr",{className:(0,p.A)(n&&"required-row"),children:(0,o.jsx)("td",{children:(0,o.jsx)("code",{className:(0,p.A)("constraint-code","required"===t&&"required"),children:t})})},`${e}-constraint-${i}`))]});var y,g};function l(){return(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{width:"20%",children:"Property"}),(0,o.jsx)("th",{width:"15%",children:"Type"}),(0,o.jsx)("th",{width:"25%",children:"Constraints"}),(0,o.jsx)("th",{width:"15%",children:"Examples"}),(0,o.jsx)("th",{children:"Description"})]})})}const h=({properties:e,requiredList:t=[],level:i=0,getConstraints:s})=>(0,o.jsx)(o.Fragment,{children:Object.entries(e).map(([e,n])=>{const a=n.properties||n.items&&n.items.properties,c=a&&Object.keys(a).length>0;return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(m,{propertyKey:e,prop:n,requiredList:t,level:i,getConstraints:s}),c&&(0,o.jsx)("tr",{children:(0,o.jsxs)("td",{colSpan:"5",className:"nested-table-container",children:[(0,o.jsx)("strong",{children:"array"===n.type?`${e} [ ]`:`${e} { }`}),(0,o.jsxs)("table",{style:{width:"100%",marginTop:"5px"},children:[(0,o.jsx)(l,{}),(0,o.jsx)("tbody",{children:(0,o.jsx)(h,{properties:"object"===n.type?n.properties:n.items.properties,requiredList:"object"===n.type?n.required||[]:n.items.required||[],level:i+1,getConstraints:s})})]})]})},`${e}-nested`)]},e)})}),u=h,f={minLength:e=>`minLength: ${e}`,maxLength:e=>`maxLength: ${e}`,minimum:e=>`minimum: ${e}`,maximum:e=>`maximum: ${e}`,exclusiveMinimum:e=>`exclusiveMinimum: ${e}`,exclusiveMaximum:e=>`exclusiveMaximum: ${e}`,minItems:e=>`minItems: ${e}`,maxItems:e=>`maxItems: ${e}`,minProperties:e=>`minProperties: ${e}`,maxProperties:e=>`maxProperties: ${e}`,multipleOf:e=>`multipleOf: ${e}`,format:e=>`format: ${e}`,minContains:e=>`minContains: ${e}`,maxContains:e=>`maxContains: ${e}`,pattern:e=>`pattern: /${e}/`,uniqueItems:e=>e?"uniqueItems: true":null,additionalProperties:e=>!1===e?"additionalProperties: false":null,propertyNames:e=>`propertyNames: ${JSON.stringify(e)}`,dependentRequired:e=>`dependentRequired: ${Object.entries(e).map(([e,t])=>`${e} -> [${t.join(", ")}]`).join("; ")}`,contains:e=>`contains: ${JSON.stringify(e)}`,enum:e=>`enum: [${e.join(", ")}]`,const:e=>`const: ${JSON.stringify(e)}`},y=(e,t)=>{const i=[];t&&i.push("required");for(const r in f)if(void 0!==e[r]){const t=(0,f[r])(e[r]);t&&i.push(t)}return i};function g({schema:e}){return(0,o.jsxs)("table",{children:[(0,o.jsx)(l,{}),(0,o.jsx)("tbody",{children:(0,o.jsx)(u,{properties:e.properties,requiredList:e.required,getConstraints:y})})]})}function x({schema:e}){return(0,o.jsxs)("div",{children:[(0,o.jsx)(s.A,{as:"h2",children:"DataLayer Example"}),(0,o.jsx)(c,{schema:e}),(0,o.jsx)(s.A,{as:"h2",children:"Event Properties"}),(0,o.jsx)(g,{schema:e})]})}}}]);